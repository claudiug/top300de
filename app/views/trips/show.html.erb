<div class="trip-page">

<div id="galleries">

  <div class="title">
    <div class="wrapBlock">

      <div class="avatar">
        <%= image_tag(@trip.paintings.first.image.url(:resized).to_s) unless @trip.paintings.first.blank? %>
        <div class="more-images">+ 10</div>
      </div>

      <h1><%=@trip.name %></h1>
        <span class="distance">
          <span></span><%= calculate_distance('CAR', session[:location], @trip.city).last unless session[:location].blank? %></span>
        <span class="time">
           <span></span><%= calculate_distance('CAR', session[:location], @trip.city).first unless session[:location].blank? %>
        </span>
        <span class="weather">
           <span></span>Now: <%= @weather[:currently][:summary] unless @weather.nil? %>
        </span>
    </div>
  </div> <!-- .title -->

</div>

  <div class="trip-wrap">

  <div class="trip-data wrapBlock">

    <section class="filter-col fly-left" id="left-trip-filters">
      <div class="box leftcol-break">

        <div class="box-content side_nav">
          <a href="javascript:;" title="About" class="selected" rel="about"><span><%= t "default.product_page.menu_about" %></span></a>
          <a href="javascript:;" title="Gallery" rel="activities"><span><%= t "default.product_page.menu_gallery" %></span></a>
          <a href="javascript:;" title="Map" rel="directions"><span><%= t "default.product_page.menu_map" %></span></a>
        </div> <!-- .box-content -->
      </div> <!-- .box -->


      <div class="about-city">
        <span class="capital">Capital of Germany</span>
        <span class="area"> 891.8 kmÂ²</span>
        <span class="population"> 3.502 million</span>
        <span class="local-time"> Now: 8:35 PM</span>
      </div>

    </section>

    <section class="trip-block stand-by" id="trip-holder">
      <div class="scroller">
      <div class="trip-section" id="about">
        <h2><%= t "default.product_page.menu_about" %></h2>
            <div class="section-content">
              <p>
                <%=@trip.description%>
              </p>
            </div>

      </div>

        <div class="trip-section" id="photo-gallery">
          <h2><%= t "default.product_page.menu_gallery" %></h2>
          <div class="section-content">
            <ul>
              <% @trip.paintings.each do |paint| %>

                  <li>
                    <%= image_tag paint.image.url %>
                  </li>

              <% end %>
            </ul>
          </div>

        </div>

      </div> <!-- .scroller -->
    </section>

  </div> <!-- .trip-data -->

  </div> <!-- .wrapBlock -->
  <div class="trip-section" id="directions">

    <!-- <h2>Map</h2> -->
    <div id="map-canvas"></div>

  </div>
</div> <!-- .trip-page -->

<input id="start" value="Weingarten" style="display: none" />
<input id="end" value="Berlin" style="display: none" />
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

<script type="text/javascript">
    // When the window has finished loading create our google map below
    google.maps.event.addDomListener(window, 'load', init);

    function init() {
        // Basic options for a simple Google Map
        // For more options see: https://developers.google.com/maps/documentation/javascript/reference#MapOptions
        var mapOptions = {
            // How zoomed in you want the map to start at (always required)
            zoom: 11,

            // The latitude and longitude to center the map (always required)
            center: new google.maps.LatLng(40.6700, -73.9400), // New York

            // How you would like to style the map.
            // This is where you would paste any style found on Snazzy Maps.
            styles: [{"stylers":[{"hue":"#baf4c4"},{"saturation":10}]},{"featureType":"water","stylers":[{"color":"#f6fafc"}]},{"featureType":"all","elementType":"labels","stylers":[{"visibility":"off"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]}]
        };

        // Get the HTML DOM element that will contain your map
        // We are using a div with id="map" seen below in the <body>
        var mapElement = document.getElementById('map-canvas');

        // Create the Google Map using out element and options defined above
        var map = new google.maps.Map(mapElement, mapOptions);
    }

</script>
